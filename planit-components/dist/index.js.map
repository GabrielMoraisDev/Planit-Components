{"version":3,"file":"index.js","sources":["../src/components/SearchSelect.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\n\r\nexport interface SearchSelectOption {\r\n  label: string;\r\n  value: string;\r\n}\r\n\r\nexport interface SearchSelectProps {\r\n  options: SearchSelectOption[];\r\n  value?: string;\r\n  name?: string;\r\n  placeholder?: string;\r\n  onChange?: (value: string | null) => void;\r\n  disabled?: boolean;\r\n  className?: string;\r\n  searchPlaceholder?: string;\r\n}\r\n\r\nexport const SearchSelect: React.FC<SearchSelectProps> = ({\r\n  options,\r\n  value = '',\r\n  name,\r\n  placeholder = 'Selecione uma opção...',\r\n  onChange,\r\n  disabled = false,\r\n  className = '',\r\n  searchPlaceholder = 'Buscar...'\r\n}) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filteredOptions, setFilteredOptions] = useState(options);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const searchInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    setFilteredOptions(\r\n      options.filter(option =>\r\n        option.label.toLowerCase().includes(searchTerm.toLowerCase())\r\n      )\r\n    );\r\n  }, [searchTerm, options]);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\r\n        setIsOpen(false);\r\n        setSearchTerm('');\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const handleToggle = () => {\r\n    if (disabled) return;\r\n    setIsOpen(!isOpen);\r\n    if (!isOpen) {\r\n      setTimeout(() => {\r\n        searchInputRef.current?.focus();\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  const handleOptionSelect = (optionValue: string) => {\r\n    onChange?.(optionValue);\r\n    setIsOpen(false);\r\n    setSearchTerm('');\r\n  };\r\n\r\n  const selectedOption = options.find(option => option.value === value);\r\n\r\n  const baseStyles = {\r\n    container: `relative inline-block w-full ${className}`,\r\n    trigger: `\r\n      w-full px-3 py-2 border border-gray-300 rounded-md bg-white cursor-pointer\r\n      flex items-center justify-between min-h-[40px]\r\n      ${disabled ? 'bg-gray-100 cursor-not-allowed opacity-60' : 'hover:border-gray-400'}\r\n      ${isOpen ? 'border-blue-500 ring-1 ring-blue-500' : ''}\r\n    `,\r\n    dropdown: `\r\n      absolute top-full left-0 right-0 z-50 mt-1 bg-white border border-gray-300 \r\n      rounded-md shadow-lg max-h-60 overflow-hidden\r\n      ${isOpen ? 'block' : 'hidden'}\r\n    `,\r\n    searchInput: `\r\n      w-full px-3 py-2 border-b border-gray-200 outline-none text-sm\r\n      focus:border-blue-500\r\n    `,\r\n    optionsList: 'max-h-48 overflow-y-auto',\r\n    option: `\r\n      px-3 py-2 cursor-pointer text-sm border-b border-gray-100 last:border-b-0\r\n      hover:bg-gray-50\r\n    `,\r\n    selectedOption: 'bg-blue-50 text-blue-700',\r\n    noResults: 'px-3 py-2 text-sm text-gray-500 text-center',\r\n    arrow: `\r\n      ml-2 transition-transform duration-200\r\n      ${isOpen ? 'transform rotate-180' : ''}\r\n    `\r\n  };\r\n\r\n  return (\r\n    <div ref={containerRef} className={baseStyles.container}>\r\n      <input type=\"hidden\" name={name} value={value} />\r\n      \r\n      <div\r\n        className={baseStyles.trigger}\r\n        onClick={handleToggle}\r\n        role=\"combobox\"\r\n        aria-expanded={isOpen}\r\n        aria-haspopup=\"listbox\"\r\n      >\r\n        <span className={selectedOption ? 'text-gray-900' : 'text-gray-500'}>\r\n          {selectedOption ? selectedOption.label : placeholder}\r\n        </span>\r\n        <svg\r\n          className={baseStyles.arrow}\r\n          width=\"20\"\r\n          height=\"20\"\r\n          viewBox=\"0 0 20 20\"\r\n          fill=\"currentColor\"\r\n        >\r\n          <path\r\n            fillRule=\"evenodd\"\r\n            d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\"\r\n            clipRule=\"evenodd\"\r\n          />\r\n        </svg>\r\n      </div>\r\n\r\n      <div className={baseStyles.dropdown}>\r\n        <input\r\n          ref={searchInputRef}\r\n          type=\"text\"\r\n          className={baseStyles.searchInput}\r\n          placeholder={searchPlaceholder}\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          onClick={(e) => e.stopPropagation()}\r\n        />\r\n        \r\n        <div className={baseStyles.optionsList} role=\"listbox\">\r\n          {filteredOptions.length > 0 ? (\r\n            filteredOptions.map((option) => (\r\n              <div\r\n                key={option.value}\r\n                className={`${baseStyles.option} ${\r\n                  option.value === value ? baseStyles.selectedOption : ''\r\n                }`}\r\n                onClick={() => handleOptionSelect(option.value)}\r\n                role=\"option\"\r\n                aria-selected={option.value === value}\r\n              >\r\n                {option.label}\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className={baseStyles.noResults}>\r\n              Nenhuma opção encontrada\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};"],"names":["useState","useRef","useEffect","_jsxs","_jsx"],"mappings":";;;;;AAkBO,IAAM,YAAY,GAAgC,UAAC,EASzD,EAAA;AARC,IAAA,IAAA,OAAO,aAAA,EACP,EAAA,GAAA,EAAA,CAAA,KAAU,EAAV,KAAK,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAE,GAAA,EAAA,EACV,IAAI,GAAA,EAAA,CAAA,IAAA,EACJ,EAAsC,GAAA,EAAA,CAAA,WAAA,EAAtC,WAAW,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,wBAAwB,KAAA,EACtC,QAAQ,GAAA,EAAA,CAAA,QAAA,EACR,gBAAgB,EAAhB,QAAQ,mBAAG,KAAK,GAAA,EAAA,EAChB,EAAc,GAAA,EAAA,CAAA,SAAA,EAAd,SAAS,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,EAAE,KAAA,EACd,EAAA,GAAA,EAAA,CAAA,iBAA+B,EAA/B,iBAAiB,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,WAAW,GAAA,EAAA,CAAA;IAEzB,IAAA,EAAA,GAAsBA,cAAQ,CAAC,KAAK,CAAC,EAApC,MAAM,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,SAAS,GAAA,EAAA,CAAA,CAAA,CAAmB,CAAC;IACtC,IAAA,EAAA,GAA8BA,cAAQ,CAAC,EAAE,CAAC,EAAzC,UAAU,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,aAAa,GAAA,EAAA,CAAA,CAAA,CAAgB,CAAC;IAC3C,IAAA,EAAA,GAAwCA,cAAQ,CAAC,OAAO,CAAC,EAAxD,eAAe,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,kBAAkB,GAAA,EAAA,CAAA,CAAA,CAAqB,CAAC;AAChE,IAAA,IAAM,YAAY,GAAGC,YAAM,CAAiB,IAAI,CAAC,CAAC;AAClD,IAAA,IAAM,cAAc,GAAGA,YAAM,CAAmB,IAAI,CAAC,CAAC;AAEtD,IAAAC,eAAS,CAAC,YAAA;AACR,QAAA,kBAAkB,CAChB,OAAO,CAAC,MAAM,CAAC,UAAA,MAAM,EAAA;AACnB,YAAA,OAAA,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,CAAA;SAAA,CAC9D,CACF,CAAC;AACJ,KAAC,EAAE,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC,CAAC;AAE1B,IAAAA,eAAS,CAAC,YAAA;QACR,IAAM,kBAAkB,GAAG,UAAC,KAAiB,EAAA;AAC3C,YAAA,IAAI,YAAY,CAAC,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAc,CAAC,EAAE;gBAChF,SAAS,CAAC,KAAK,CAAC,CAAC;gBACjB,aAAa,CAAC,EAAE,CAAC,CAAC;aACnB;AACH,SAAC,CAAC;AAEF,QAAA,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,kBAAkB,CAAC,CAAC;AAC3D,QAAA,OAAO,YAAM,EAAA,OAAA,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,kBAAkB,CAAC,CAA7D,EAA6D,CAAC;KAC5E,EAAE,EAAE,CAAC,CAAC;AAEP,IAAA,IAAM,YAAY,GAAG,YAAA;AACnB,QAAA,IAAI,QAAQ;YAAE,OAAO;AACrB,QAAA,SAAS,CAAC,CAAC,MAAM,CAAC,CAAC;QACnB,IAAI,CAAC,MAAM,EAAE;AACX,YAAA,UAAU,CAAC,YAAA;;AACT,gBAAA,CAAA,EAAA,GAAA,cAAc,CAAC,OAAO,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,KAAK,EAAE,CAAC;aACjC,EAAE,GAAG,CAAC,CAAC;SACT;AACH,KAAC,CAAC;IAEF,IAAM,kBAAkB,GAAG,UAAC,WAAmB,EAAA;AAC7C,QAAA,QAAQ,aAAR,QAAQ,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAR,QAAQ,CAAG,WAAW,CAAC,CAAC;QACxB,SAAS,CAAC,KAAK,CAAC,CAAC;QACjB,aAAa,CAAC,EAAE,CAAC,CAAC;AACpB,KAAC,CAAC;AAEF,IAAA,IAAM,cAAc,GAAG,OAAO,CAAC,IAAI,CAAC,UAAA,MAAM,EAAA,EAAI,OAAA,MAAM,CAAC,KAAK,KAAK,KAAK,CAAtB,EAAsB,CAAC,CAAC;AAEtE,IAAA,IAAM,UAAU,GAAG;QACjB,SAAS,EAAE,+BAAgC,CAAA,MAAA,CAAA,SAAS,CAAE;QACtD,OAAO,EAAE,0JAGL,QAAQ,GAAG,2CAA2C,GAAG,uBAAuB,EAChF,UAAA,CAAA,CAAA,MAAA,CAAA,MAAM,GAAG,sCAAsC,GAAG,EAAE,EACvD,QAAA,CAAA;QACD,QAAQ,EAAE,kJAGN,CAAA,MAAA,CAAA,MAAM,GAAG,OAAO,GAAG,QAAQ,EAC9B,QAAA,CAAA;AACD,QAAA,WAAW,EAAE,2GAGZ;AACD,QAAA,WAAW,EAAE,0BAA0B;AACvC,QAAA,MAAM,EAAE,iHAGP;AACD,QAAA,cAAc,EAAE,0BAA0B;AAC1C,QAAA,SAAS,EAAE,6CAA6C;QACxD,KAAK,EAAE,wDAEH,CAAA,MAAA,CAAA,MAAM,GAAG,sBAAsB,GAAG,EAAE,EACvC,QAAA,CAAA;KACF,CAAC;AAEF,IAAA,QACEC,eAAA,CAAA,KAAA,EAAA,EAAK,GAAG,EAAE,YAAY,EAAE,SAAS,EAAE,UAAU,CAAC,SAAS,EAAA,QAAA,EAAA,CACrDC,0BAAO,IAAI,EAAC,QAAQ,EAAC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAI,CAAA,EAEjDD,eACE,CAAA,KAAA,EAAA,EAAA,SAAS,EAAE,UAAU,CAAC,OAAO,EAC7B,OAAO,EAAE,YAAY,EACrB,IAAI,EAAC,UAAU,EAAA,eAAA,EACA,MAAM,EAAA,eAAA,EACP,SAAS,EAAA,QAAA,EAAA,CAEvBC,cAAM,CAAA,MAAA,EAAA,EAAA,SAAS,EAAE,cAAc,GAAG,eAAe,GAAG,eAAe,EAChE,QAAA,EAAA,cAAc,GAAG,cAAc,CAAC,KAAK,GAAG,WAAW,EAAA,CAC/C,EACPA,cAAA,CAAA,KAAA,EAAA,EACE,SAAS,EAAE,UAAU,CAAC,KAAK,EAC3B,KAAK,EAAC,IAAI,EACV,MAAM,EAAC,IAAI,EACX,OAAO,EAAC,WAAW,EACnB,IAAI,EAAC,cAAc,EAAA,QAAA,EAEnBA,cACE,CAAA,MAAA,EAAA,EAAA,QAAQ,EAAC,SAAS,EAClB,CAAC,EAAC,oHAAoH,EACtH,QAAQ,EAAC,SAAS,EAAA,CAClB,EACE,CAAA,CAAA,EAAA,CACF,EAEND,eAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAE,UAAU,CAAC,QAAQ,EAAA,QAAA,EAAA,CACjCC,0BACE,GAAG,EAAE,cAAc,EACnB,IAAI,EAAC,MAAM,EACX,SAAS,EAAE,UAAU,CAAC,WAAW,EACjC,WAAW,EAAE,iBAAiB,EAC9B,KAAK,EAAE,UAAU,EACjB,QAAQ,EAAE,UAAC,CAAC,EAAK,EAAA,OAAA,aAAa,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA,EAAA,EAC9C,OAAO,EAAE,UAAC,CAAC,IAAK,OAAA,CAAC,CAAC,eAAe,EAAE,CAAA,EAAA,EAAA,CACnC,EAEFA,cAAK,CAAA,KAAA,EAAA,EAAA,SAAS,EAAE,UAAU,CAAC,WAAW,EAAE,IAAI,EAAC,SAAS,EACnD,QAAA,EAAA,eAAe,CAAC,MAAM,GAAG,CAAC,IACzB,eAAe,CAAC,GAAG,CAAC,UAAC,MAAM,EAAK,EAAA,QAC9BA,cAAA,CAAA,KAAA,EAAA,EAEE,SAAS,EAAE,EAAG,CAAA,MAAA,CAAA,UAAU,CAAC,MAAM,EAAA,GAAA,CAAA,CAAA,MAAA,CAC7B,MAAM,CAAC,KAAK,KAAK,KAAK,GAAG,UAAU,CAAC,cAAc,GAAG,EAAE,CACvD,EACF,OAAO,EAAE,YAAM,EAAA,OAAA,kBAAkB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA,EAAA,EAC/C,IAAI,EAAC,QAAQ,EACE,eAAA,EAAA,MAAM,CAAC,KAAK,KAAK,KAAK,EAEpC,QAAA,EAAA,MAAM,CAAC,KAAK,EAAA,EARR,MAAM,CAAC,KAAK,CASb,EACP,EAAA,CAAC,KAEFA,cAAK,CAAA,KAAA,EAAA,EAAA,SAAS,EAAE,UAAU,CAAC,SAAS,EAAA,QAAA,EAAA,oCAAA,EAAA,CAE9B,CACP,EAAA,CACG,CACF,EAAA,CAAA,CAAA,EAAA,CACF,EACN;AACJ;;;;"}